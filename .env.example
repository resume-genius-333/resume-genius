# Resume Genius Environment Variables
# Copy this file to .env and fill in your own values.

# =============================================================================
# Backend Runtime
# =============================================================================
# Optional override path for backend CLI utilities.
BACKEND_ENV_FILE=
# Set to true automatically when running inside Docker.
DOCKER_CONTAINER=false
PYTHONUNBUFFERED=1
# Logging verbosity for the backend (debug | info | warning | error).
BACKEND_LOG_LEVEL=info

# =============================================================================
# Backend Database
# =============================================================================
# Primary database connection used by the API.
BACKEND_DATABASE_URL=postgresql://resume_genius_user:change-me@db-host:5432/resume_genius
# Database URL to use when the API runs inside docker-compose.
BACKEND_DATABASE_URL_DOCKER=postgresql://resume_genius_user:change-me@resume-genius-postgres:5432/resume_genius
# Optional overrides for tooling; leave blank to fall back to the primary URL.
BACKEND_DATABASE_URL_LOCAL=postgresql://postgres:postgres@localhost:5441/resume_genius
BACKEND_DATABASE_SYNC_URL=
BACKEND_DATABASE_ASYNC_URL=
BACKEND_DATABASE_ECHO=false

# Local development Postgres container (docker-compose profile backend-local-db).
RESUME_GENIUS_POSTGRES_USER=postgres
RESUME_GENIUS_POSTGRES_PASSWORD=change-me
RESUME_GENIUS_POSTGRES_DB=resume_genius

# =============================================================================
# Backend Authentication
# =============================================================================
BACKEND_JWT_SECRET_KEY=replace-with-hex-secret
BACKEND_JWT_ALGORITHM=HS256
BACKEND_ACCESS_TOKEN_EXPIRE_MINUTES=30
BACKEND_REFRESH_TOKEN_EXPIRE_DAYS=7
BACKEND_PASSWORD_RESET_TOKEN_EXPIRE_HOURS=24
BACKEND_EMAIL_VERIFICATION_TOKEN_EXPIRE_HOURS=48

# =============================================================================
# Backend Redis
# =============================================================================
BACKEND_REDIS_HOST_DOCKER=resume-genius-redis
BACKEND_REDIS_HOST_LOCAL=localhost
BACKEND_REDIS_PORT_DOCKER=6379
BACKEND_REDIS_PORT_LOCAL=6380
BACKEND_REDIS_DB=0
BACKEND_REDIS_MAX_CONNECTIONS=50
BACKEND_REDIS_ENCODING=utf-8
BACKEND_REDIS_DECODE_RESPONSES=true
BACKEND_REDIS_SOCKET_CONNECT_TIMEOUT=5
BACKEND_REDIS_SOCKET_TIMEOUT=5
BACKEND_REDIS_RETRY_ON_TIMEOUT=true
BACKEND_REDIS_HEALTH_CHECK_INTERVAL=30
# BACKEND_STATUS_STREAM_BACKEND selects the SSE transport strategy:
#   auto  - prefer Redis when configured and healthy, otherwise fall back to
#           the in-memory queue manager.
#   redis - always attempt Redis; on runtime failures the service logs a
#           warning and downgrades to the queue manager.
#   queue - skip Redis entirely and rely solely on the in-memory queue manager.
BACKEND_STATUS_STREAM_BACKEND=auto

# =============================================================================
# Observability (Langfuse)
# =============================================================================
LANGFUSE_SECRET_KEY=
LANGFUSE_PUBLIC_KEY=
LANGFUSE_HOST=https://us.cloud.langfuse.com

# =============================================================================
# Cloud Storage / AWS
# =============================================================================
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=ap-southeast-1
STORAGE_BUCKET_NAME=resume-genius-backend-storage
# Optional: override the region LiteLLM storage uses when it differs from AWS_REGION.
STORAGE_BUCKET_REGION=

# =============================================================================
# LiteLLM Proxy
# =============================================================================
# Master admin key for LiteLLM; generate with `openssl rand -hex 32`.
LITELLM_MASTER_KEY=replace-with-generated-master-key
LITELLM_API_KEY=
LITELLM_BASE_URL_LOCAL=http://localhost:4000
LITELLM_BASE_URL_DOCKER=http://litellm:4000
# Optional direct base URL for local scripts and notebooks.
LITELLM_BASE_URL=http://127.0.0.1:4000

# LiteLLM Postgres (only needed when running the optional LiteLLM profile).
LITELLM_POSTGRES_USER=postgres
LITELLM_POSTGRES_PASSWORD=change-me
LITELLM_POSTGRES_DB=litellm
LITELLM_POSTGRES_HOST_DOCKER=litellm-postgres
LITELLM_POSTGRES_HOST_LOCAL=localhost
LITELLM_POSTGRES_PORT_DOCKER=5432
LITELLM_POSTGRES_PORT_LOCAL=5440

# =============================================================================
# Provider API Keys (used by LiteLLM)
# =============================================================================
OPENAI_API_KEY=
ANTHROPIC_API_KEY=
GROQ_API_KEY=
DEEPSEEK_API_KEY=
GEMINI_API_KEY=
PERPLEXITYAI_API_KEY=
XAI_API_KEY=

# =============================================================================
# Frontend
# =============================================================================
NEXT_PUBLIC_BACKEND_URL=http://localhost:8000
# Optional legacy overrides used by older tooling.
FRONTEND_API_URL_LOCAL=http://localhost:8000
FRONTEND_API_URL_DOCKER=http://backend:8000
